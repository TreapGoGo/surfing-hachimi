# 关于环境能力的说明与开发计划

针对您的问题，我的回答如下：

> **Q: 你能够启动浏览器吗？能自动化调试吗？能挂载插件吗？**
>
> **A: 不能直接启动可视化的浏览器。**
> 我运行在无头（Headless）服务器环境中，没有图形界面，因此无法为您打开一个浏览器窗口并挂载插件让您直接观看。
>
> **但是，我们可以这样合作：**
> 1.  **UI 开发阶段**：对于 Dashboard 和 Panel 页面，我可以启动本地 Web 服务器，您可以通过我提供的 **Preview URL** 在您的浏览器中直接预览和交互（就像开发普通网页一样）。
> 2.  **插件集成阶段**：我会生成构建好的插件包（`dist` 目录）。您需要在您的本地 Chrome 浏览器中打开 `chrome://extensions`，开启“开发者模式”，然后点击“加载已解压的扩展程序”来安装。
> 3.  **调试方式**：我会尽量通过 Mock 数据和单元测试保证逻辑正确。涉及知乎/B站真实页面交互的部分，需要您在本地安装后体验，并反馈问题给我，我再进行修复。

---

基于此，我调整了开发计划，重点强化了**本地预览**和**Mock测试**环节，以便我们在不安装插件的情况下也能先完成大部分 UI/UX 开发。

## 阶段一：项目初始化与基础设施
- 初始化 Vite + React + TypeScript + TailwindCSS。
- 配置 `manifest.json` 和构建脚本。
- 搭建基础文件结构 (`background`, `content`, `panel`, `dashboard`)。
- **新增**：配置 `mock` 数据环境，用于在普通网页模式下开发 Dashboard。

## 阶段二：Dashboard 与 Panel (可预览开发)
**此阶段您可以通过 Preview URL 直接验收成果。**
- 开发 Dashboard 布局（瀑布流、时光胶囊）。
- 开发侧边 Panel 组件。
- 实现“导入/导出”和“数据管理”界面的 UI。
- 使用 Mock 数据模拟知乎/B站的采集记录，验证 UI 交互。

## 阶段三：核心逻辑与数据存储
- 封装 IndexedDB (`idb`)。
- 实现信号分打分逻辑 (`score.ts`)。
- 实现数据清理与去重逻辑。

## 阶段四：Content Scripts (需本地安装调试)
**此阶段需要您在本地浏览器加载插件进行测试。**
- 实现知乎/B站的 DOM 监听器 (`IntersectionObserver`)。
- 实现悬浮球和评分框 UI（注入到页面中）。
- 联调 Background 消息通信。

## 阶段五：打包与交付
- 最终构建与测试。
- 提供详细的安装与使用文档。

如果您同意这个“**我写代码+提供预览，您本地安装+反馈体验**”的协作模式，请确认计划，我们立即开始！